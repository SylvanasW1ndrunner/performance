from flask_sqlalchemy import SQLAlchemy
from Entity.db_init import db

class Assessmentddl(db.Model):
    __tablename__ = 'assessmentddl'
    ddl = db.Column(db.DateTime, nullable=False)
    version = db.Column(db.String(50), nullable=False)
    forcedis = db.Column(db.Integer, nullable=False)
    late = db.Column(db.Integer, nullable=False)
    earlyleave = db.Column(db.Integer, nullable=False)

    @classmethod
    def create(cls, ddl, version, forcedis, late, earlyleave):
        new_ddl = cls(
            ddl=ddl,
            version=version,
            forcedis=forcedis,
            late=late,
            earlyleave=earlyleave
        )
        db.session.add(new_ddl)  # 添加到会话
        db.session.commit()  # 提交事务